import{W as o}from"./wizard-Dm0DFs2a.js";import{_ as t,p as h,e as u,w as d,k as _,g as i,s as n,b as s,d as g,v as r,F as m,f as p,t as y,y as c}from"./index-D7FsSaiF.js";import"./Logo-RYn8q3Ox.js";const S=[{key:"af",value:"Afrikaans"},{key:"ak",value:"Akan"},{key:"sq",value:"Albanian / Shqip"},{key:"arq",value:"Algerian Arabic / الدارجة الجزايرية"},{key:"am",value:"Amharic / አማርኛ"},{key:"ar",value:"Arabic / العربية"},{key:"hy",value:"Armenian / Հայերեն"},{key:"rup_MK",value:"Aromanian"},{key:"frp",value:"Arpitan"},{key:"as",value:"Assamese / অসমীয়া"},{key:"ast",value:"Asturian"},{key:"az",value:"Azerbaijani / Azərbaycan dili"},{key:"az_TR",value:"Azerbaijani (Turkey)"},{key:"bcc",value:"Balochi Southern"},{key:"ba",value:"Bashkir"},{key:"eu",value:"Basque / Euskara"},{key:"bel",value:"Belarusian / Беларуская мова"},{key:"bn_BD",value:"Bengali (Bangladesh) / বাংলা"},{key:"bn_IN",value:"Bengali (India) / বাংলা"},{key:"bho",value:"Bhojpuri / भोजपुरी"},{key:"brx",value:"Bodo / बोडो"},{key:"gax",value:"Borana-Arsi-Guji Oromo"},{key:"bs_BA",value:"Bosnian / Bosanski"},{key:"br",value:"Breton / Brezhoneg"},{key:"bg_BG",value:"Bulgarian / Български"},{key:"mya",value:"Burmese / မြန်မာစာ"},{key:"ca",value:"Catalan / Català"},{key:"bal",value:"Catalan (Balear)"},{key:"ceb",value:"Cebuano"},{key:"zh_CN",value:"Chinese (Simplified) / 简体中文"},{key:"zh_HK",value:"Chinese (Hong Kong) / 香港中文"},{key:"zh_SG",value:"Chinese (Singapore)"},{key:"zh_TW",value:"Chinese (Traditional) / 繁體中文"},{key:"cor",value:"Cornish / Kernewek"},{key:"co",value:"Corsican / Corsu"},{key:"hr",value:"Croatian / Hrvatski"},{key:"cs_CZ",value:"Czech / Čeština"},{key:"da_DK",value:"Danish / Dansk"},{key:"dv",value:"Dhivehi / ދިވެހި"},{key:"nl_NL",value:"Dutch / Nederlands"},{key:"nl_BE",value:"Dutch (Belgium)"},{key:"dzo",value:"Dzongkha"},{key:"art_xemoji",value:"Emoji (art-xemoji)"},{key:"en_US",value:"English (United States)"},{key:"en_AU",value:"English (Australia)"},{key:"en_CA",value:"English (Canada)"},{key:"en_NZ",value:"English (New Zealand)"},{key:"en_SA",value:"English (South Africa)"},{key:"en_GB",value:"English (UK)"},{key:"eo",value:"Esperanto"},{key:"et",value:"Estonian / Eesti"},{key:"fo",value:"Faroese / Føroyskt"},{key:"fi",value:"Finnish / Suomi"},{key:"fr_BE",value:"French (Belgium) / Français de Belgique"},{key:"fr_CA",value:"French (Canada) / Français du Canada"},{key:"fr_FR",value:"French / Français"},{key:"fy",value:"Frisian / Frysk"},{key:"fur",value:"Friulian"},{key:"fuc",value:"Fulah / Pulaar"},{key:"gl_ES",value:"Galician / Galego"},{key:"ka_GE",value:"Georgian / ქართული"},{key:"de_DE",value:"German / Deutsch"},{key:"de_AT",value:"German (Austria)"},{key:"de_CH",value:"German (Switzerland)"},{key:"el",value:"Greek / Ελληνικά"},{key:"kal",value:"Greenlandic / Kalaallisut"},{key:"gn",value:"Guaraní / Avañe’ẽ"},{key:"gu",value:"Gujarati / ગુજરાતી"},{key:"haw_US",value:"Hawaiian / ʻŌlelo Hawaiʻi"},{key:"hat",value:"Haitian Creole / Kreyòl ayisyen"},{key:"hau",value:"Hausa / Harshen Hausa"},{key:"haz",value:"Hazaragi / هزاره گی"},{key:"he_IL",value:"Hebrew / עִבְרִית"},{key:"hi_IN",value:"Hindi / हिन्दी"},{key:"hu_HU",value:"Hungarian / Magyar"},{key:"is_IS",value:"Icelandic / Íslenska"},{key:"ido",value:"Ido"},{key:"id_ID",value:"Indonesian / Bahasa Indonesia"},{key:"ga",value:"Irish / Gaeilge"},{key:"it_IT",value:"Italian / Italiano"},{key:"ja",value:"Japanese / 日本語"},{key:"jv_ID",value:"Javanese / Basa Jawa"},{key:"kab",value:"Kabyle / Taqbaylit"},{key:"kn",value:"Kannada / ಕನ್ನಡ"},{key:"kaa",value:"Karakalpak"},{key:"kk",value:"Kazakh / Қазақ тілі"},{key:"km",value:"Khmer / ភាសាខ្មែរ"},{key:"kin",value:"Kinyarwanda / Ikinyarwanda"},{key:"ky_KY",value:"Kyrgyz / Кыргызча"},{key:"ko_KR",value:"Korean / 한국어"},{key:"ckb",value:"Kurdish (Sorani) / کوردی"},{key:"lo",value:"Lao / ພາສາລາວ"},{key:"lv",value:"Latvian / Latviešu"},{key:"li",value:"Limburgish / Limburgs"},{key:"lin",value:"Lingala / Ngala"},{key:"lt_LT",value:"Lithuanian / Lietuvių"},{key:"lb_LU",value:"Luxembourgish / Lëtzebuergesch"},{key:"mk_MK",value:"Macedonian / Македонски"},{key:"mg_MG",value:"Malagasy"},{key:"ms_MY",value:"Malay / Bahasa Melayu"},{key:"ml_IN",value:"Malayalam / മലയാളം"},{key:"mri",value:"Māori / Te Reo Māori"},{key:"mr",value:"Marathi / मराठी"},{key:"xmf",value:"Mingrelian"},{key:"mn",value:"Mongolian / Монгол"},{key:"me_ME",value:"Montenegrin / Crnogorski"},{key:"ne_NP",value:"Nepali / नेपाली"},{key:"nb_NO",value:"Norwegian Bokmål / Norsk bokmål"},{key:"nn_NO",value:"Norwegian Nynorsk / Norsk nynorsk"},{key:"oci",value:"Occitan / Occitan"},{key:"ory",value:"Oriya / ଓଡ଼ିଆ"},{key:"os",value:"Ossetic / Ирон"},{key:"ps",value:"Pashto / پښتو"},{key:"fa_IR",value:"Persian / فارسی"},{key:"fa_AF",value:"Persian (Afghanistan)"},{key:"pl_PL",value:"Polish / Polski"},{key:"pt_AO",value:"Portuguese (Angola)"},{key:"pt_BR",value:"Portuguese (Brazil) / Português do Brasil"},{key:"pt_PT",value:"Portuguese (Portugal) / Português"},{key:"pa_IN",value:"Punjabi / ਪੰਜਾਬੀ"},{key:"rhg",value:"Rohingya / Ruáinga"},{key:"ro_RO",value:"Romanian / Română"},{key:"ru_RU",value:"Russian / Русский"},{key:"ru_UA",value:"Russian (Ukraine)"},{key:"rue",value:"Rusyn"},{key:"sah",value:"Sakha / Сахалыы"},{key:"sa_IN",value:"Sanskrit / संस्कृतम्"},{key:"skr",value:"Saraiki / سرائیکی"},{key:"srd",value:"Sardinian / Sardigna"},{key:"gd",value:"Scottish Gaelic / Gàidhlig"},{key:"sr_RS",value:"Serbian / Српски"},{key:"sd_PK",value:"Sindhi / سنڌي"},{key:"si_LK",value:"Sinhala / සිංහල"},{key:"sk_SK",value:"Slovak / Slovenčina"},{key:"sl_SI",value:"Slovenian / Slovenščina"},{key:"so_SO",value:"Somali / Soomaali"},{key:"azb",value:"South Azerbaijani"},{key:"es_AR",value:"Spanish (Argentina) / Español de Argentina"},{key:"es_CL",value:"Spanish (Chile)"},{key:"es_CO",value:"Spanish (Colombia)"},{key:"es_CR",value:"Spanish (Costa Rica)"},{key:"es_DO",value:"Spanish (Dominican Republic)"},{key:"es_EC",value:"Spanish (Ecuador)"},{key:"es_GT",value:"Spanish (Guatemala)"},{key:"es_HN",value:"Spanish (Honduras)"},{key:"es_ES",value:"Spanish / Español"},{key:"es_MX",value:"Spanish (Mexico) / Español de México"},{key:"es_PE",value:"Spanish (Peru)"},{key:"es_PR",value:"Spanish (Puerto Rico)"},{key:"es_UY",value:"Spanish (Uruguay)"},{key:"es_VE",value:"Spanish (Venezuela)"},{key:"su_ID",value:"Sundanese / ꦱꦸꦤ꧀ꦢꦼꦤꦺꦱꦼ"},{key:"sw",value:"Swahili / Kiswahili"},{key:"sv_SE",value:"Swedish / Svenska"},{key:"gsw",value:"Swiss German / Schweizerdeutsch"},{key:"tl",value:"Tagalog / Filipino"},{key:"tg",value:"Tajik / тоҷикӣ"},{key:"ta_IN",value:"Tamil / தமிழ்"},{key:"ta_LK",value:"Tamil (Sri Lanka)"},{key:"tt_RU",value:"Tatar"},{key:"te",value:"Telugu / తెలుగు"},{key:"th",value:"Thai / ไทย"},{key:"bo",value:"Tibetan / བོད་ཡིག"},{key:"tir",value:"Tigrinya"},{key:"tr_TR",value:"Turkish / Türkçe"},{key:"tuk",value:"Turkmen"},{key:"ug_CN",value:"Uighur"},{key:"uk",value:"Ukrainian / Українська"},{key:"ur",value:"Urdu / اردو"},{key:"uz_UZ",value:"Uzbek"},{key:"vi",value:"Vietnamese / Tiếng Việt"},{key:"wa",value:"Walloon / Walon"},{key:"cy",value:"Welsh / Cymraeg"},{key:"yor",value:"Yoruba"}],b={inject:["apiBase"],components:{Wizard:o},data:()=>({health:{},email:"",password:"",locale:"en_US",locales:S,error:""}),async created(){localStorage.removeItem("tokens"),this.health=await this.getHealth()},watch:{health(a){a?.checks?.find(e=>e.slug==="admin")?.ok&&this.$router.push("/")}},methods:{async getHealth(){return(await fetch(`${this.apiBase}/api/v1/health`)).json()},async register(){const a=await fetch(`${this.apiBase}/api/v1/setup/admin`,{method:"POST",body:JSON.stringify({email:this.email,password:this.password,locale:this.locale})});this.health=await this.getHealth();try{this.error=await a.text()}catch{}}}},B=["value"],w={key:0};function A(a,e,C,f,z,k){const v=_("Wizard");return u(),h(v,{step:1},{default:d(()=>[e[4]||(e[4]=i("h1",null,"You are nearly there!",-1)),e[5]||(e[5]=i("h2",null,"Provide administrator credentials",-1)),n(i("input",{placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=l=>a.email=l)},null,512),[[r,a.email]]),n(i("input",{placeholder:"Password",type:"password","onUpdate:modelValue":e[1]||(e[1]=l=>a.password=l)},null,512),[[r,a.password]]),n(i("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>a.locale=l)},[(u(!0),s(m,null,p(a.locales,l=>(u(),s("option",{value:l.key},y(l.value),9,B))),256))],512),[[c,a.locale]]),i("button",{onClick:e[3]||(e[3]=(...l)=>k.register&&k.register(...l))},"Submit"),a.error?(u(),s("div",w,y(a.error),1)):g("",!0)]),_:1})}const I=t(b,[["render",A],["__scopeId","data-v-34a29771"]]);export{I as default};
